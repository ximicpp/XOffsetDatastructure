# WSL2 方案 - 快速开始 🚀

## 📋 4 步完成 C++26 反射环境搭建

### ✅ 第 1 步：检查环境
```cmd
双击运行: wsl_check_environment.bat
```
**预期结果**: WSL2 已安装，有足够磁盘空间（60GB+）

---

### ✅ 第 2 步：安装工具
```cmd
双击运行: wsl_setup_tools.bat
```
**时间**: 5-10 分钟  
**安装**: GCC, CMake, Ninja, Git, Python3

---

### ✅ 第 3 步：构建 Clang P2996
```cmd
双击运行: wsl_build_clang_p2996.bat
```
**⏰ 时间**: 1-3 小时（可以去做其他事情）  
**重要**: 不要关闭终端窗口

**进度**:
```
[1/5] 克隆源码...    (5-15 分钟)
[2/5] 配置 CMake...  (1-2 分钟)
[3/5] 编译...        (1-3 小时) ⏰⏰⏰
[4/5] 安装...        (5 分钟)
[5/5] 验证...        (1 分钟)
```

**成功标志**:
```
✅ C++26 Reflection: ENABLED
🎉 恭喜！Clang P2996 构建成功！
```

---

### ✅ 第 4 步：编译项目
```cmd
双击运行: wsl_build_project.bat
```
**时间**: 2-5 分钟

**成功标志**:
```
✅ 编译完成
✅ C++26 reflection: ENABLED
🎉 C++26 反射功能已启用！
```

---

## 🧪 验证反射功能

运行测试：
```cmd
wsl ./build_cpp26/bin/test_compaction
```

**应该看到**:
```
✅ C++26 reflection: ENABLED
   __cpp_reflection = 202306
```

---

## 📚 完整文档

- **详细指南**: `docs/WSL2_SETUP_GUIDE.md`
- **方案分析**: `docs/CPP26_COMPILATION_PLAN.md`
- **故障排除**: `docs/WSL2_SETUP_GUIDE.md` 的常见问题部分

---

## ⏱️ 时间估算

| 阶段 | 时间 | 可以离开？ |
|------|------|-----------|
| 环境检查 | < 1 分钟 | ❌ |
| 安装工具 | 5-10 分钟 | ❌ |
| **构建 Clang** | **1-3 小时** | ✅ **可以** |
| 编译项目 | 2-5 分钟 | ❌ |
| **总计** | **1.5-3.5 小时** | |

---

## 💾 磁盘空间需求

- **必需**: 60 GB
- **推荐**: 80 GB+

检查磁盘空间：
```cmd
wsl df -h ~
```

---

## 🎯 成功检查清单

- [ ] WSL2 已安装
- [ ] 构建工具已安装
- [ ] Clang P2996 构建成功
- [ ] 反射功能已启用（`__cpp_reflection >= 202306L`）
- [ ] 项目编译成功
- [ ] 所有测试通过

---

## ⚠️ 重要提示

1. **不要关闭**编译 Clang 时的终端窗口
2. **建议连接电源**，避免笔记本休眠
3. **确保磁盘空间充足**（60GB+）
4. **编译期间可以做其他事情**

---

## 🚀 立即开始

```cmd
双击运行: wsl_check_environment.bat
```

**准备时间**: 2025-10-23  
**状态**: ✅ 脚本已准备就绪
